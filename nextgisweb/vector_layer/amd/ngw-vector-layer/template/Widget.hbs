<div data-dojo-type="${baseClass}" data-dojo-attach-point="focusNode" class="padding-block">

    <!-- Do not let users pick SRS. By now only one SRS (EPSG:3857) is supported.
    <div data-dojo-attach-point="wSrs"
        data-dojo-type="ngw-spatial-ref-sys/SRSSelect"
        title="{{gettext 'Spatial reference system'}}" style="width: 100%"></div>
    -->

    <div data-dojo-attach-point="mode_section"
         data-dojo-type="dojox/layout/TableContainer" data-dojo-props="cols:1, labelWidth: 150"
         style="margin-bottom: 1em;">
        <select data-dojo-attach-point="modeSwitcher"
            data-dojo-type="dijit/form/Select"
            title="{{gettext 'Mode'}}" style="width: 100%">

            <option value="file" selected="selected">{{gettext 'From file'}}</option>
            <option value="empty">{{gettext 'Empty layer'}}</option>
        </select>
    </div>

    <div data-dojo-attach-point="empty_layer_section" style="display: none;">
         <div data-dojo-type="dojox/layout/TableContainer" data-dojo-props="cols:1, labelWidth: 150">
            <select data-dojo-attach-point="wGeometryType"
                data-dojo-type="dijit/form/Select"
                data-ngw-serialize="geometry_type"
                title="{{gettext 'Geometry type'}}" style="width: 100%">

                <option value="POINT">{{gettext 'Point'}}</option>
                <option value="LINESTRING">{{gettext 'Line'}}</option>
                <option value="POLYGON">{{gettext 'Polygon'}}</option>
                <option value="MULTIPOINT">{{gettext 'Multipoint'}}</option>
                <option value="MULTILINESTRING">{{gettext 'Multiline'}}</option>
                <option value="MULTIPOLYGON">{{gettext 'Multipolygon'}}</option>
                <option value="POINTZ">{{gettext 'Point Z'}}</option>
                <option value="LINESTRINGZ">{{gettext 'Line Z'}}</option>
                <option value="POLYGONZ">{{gettext 'Polygon Z'}}</option>
                <option value="MULTIPOINTZ">{{gettext 'Multipoint Z'}}</option>
                <option value="MULTILINESTRINGZ">{{gettext 'Multiline Z'}}</option>
                <option value="MULTIPOLYGONZ">{{gettext 'Multipolygon Z'}}</option>
            </select>
        </div>
    </div>

    <div data-dojo-attach-point="file_section">
        <div data-dojo-attach-point="wSourceFile"
                data-dojo-type="ngw-file-upload/Uploader" data-dojo-attach-point="wFile" 
                data-dojo-props="
                    uploaderLinkText: {{gettextString 'Select a dataset'}},
                    uploaderHelpText: {{gettextString 'Dataset should be in ESRI Shapefile (zip), GeoJSON, GML or KML format.'}}
        "></div>

        <div data-dojo-type="dojox/layout/TableContainer" data-dojo-props="cols:1, labelWidth: 150"
            style="margin-bottom: 1em;">
            <select data-dojo-attach-point="wSourceLayer"
                data-dojo-type="dijit/form/Select"
                data-dojo-props="required: true"
                title="{{gettext 'Source layer'}}"
                style="width: 100%;">
            </select>
        </div>

        <div data-dojo-type="dijit/TitlePane" data-dojo-props="title: {{gettextString 'Advanced options'}}, open: false">
            <div data-dojo-type="dojox/layout/TableContainer" data-dojo-props="cols:2, labelWidth: 150">

                <select data-dojo-attach-point="wFixErrors"
                    data-dojo-type="dijit/form/Select"
                    title="{{gettext 'Fix errors'}}"
                    style="width: 100%" colspan="2">

                    <option value="NONE">{{gettext 'None'}}</option>
                    <option value="SAFE">{{gettext 'Without losing data'}}</option>
                    <option value="LOSSY" selected="selected">{{gettext 'Whatever possible'}}</option>
                </select>

                <div data-dojo-type="dijit/layout/ContentPane"
                    colspan="2" style="width: 100%; padding: 0; margin: 0;">
                    <input data-dojo-attach-point="wSkipErrors"
                        data-dojo-type="dijit/form/CheckBox"
                        data-dojo-props="value: true"
                        id="wSkipErrors" checked="true">
                    <label for="wSkipErrors">{{gettext 'Skip features with unfixable errors'}}</label>
                </div>

                <select data-dojo-attach-point="wCastGeometryType"
                    data-dojo-type="dijit/form/Select"
                    title="{{gettext 'Geometry type'}}"
                    colspan="2" style="width: 100%">

                    <option value="AUTO" selected="selected">{{gettext 'Auto'}}</option>
                    <option value="POINT">{{gettext 'Point'}}</option>
                    <option value="LINESTRING">{{gettext 'Line'}}</option>
                    <option value="POLYGON">{{gettext 'Polygon'}}</option>
                </select>

                <div data-dojo-type="dijit/layout/ContentPane"
                    colspan="2" style="width: 100%; padding: 0; margin: 0;">
                    <input data-dojo-attach-point="wSkipOtherGeometryTypes"
                        data-dojo-type="dijit/form/CheckBox"
                        data-dojo-props="value: true, disabled: true"
                        id="wSkipOtherGeometryTypes">
                    <label for="wSkipOtherGeometryTypes">{{gettext 'Only load features of the selected geometry type'}}</label>
                </div>

                <select data-dojo-attach-point="wCastIsMulti"
                    data-dojo-type="dijit/form/Select"
                    title="{{gettext 'Multi-geometry'}}" style="width: 100%">

                    <option value="AUTO" selected="selected">{{gettext 'Auto'}}</option>
                    <option value="YES">{{gettext 'Yes'}}</option>
                    <option value="NO">{{gettext 'No'}}</option>
                </select>

                <select data-dojo-attach-point="wCastHasZ"
                    data-dojo-type="dijit/form/Select"
                    title="{{gettext 'Z-coordinate'}}" style="width: 100%">

                    <option value="AUTO" selected="selected">{{gettext 'Auto'}}</option>
                    <option value="YES">{{gettext 'Yes'}}</option>
                    <option value="NO">{{gettext 'No'}}</option>
                </select>

                <select data-dojo-attach-point="wFIDSource"
                    data-dojo-type="dijit/form/Select"
                    title="{{gettext 'FID source'}}" style="width: 100%">

                    <option value="AUTO" selected="selected">{{gettext 'Auto'}}</option>
                    <option value="SEQUENCE">{{gettext 'Sequence'}}</option>
                    <option value="FIELD">{{gettext 'Field'}}</option>
                </select>

                <input data-dojo-attach-point="wFIDField"
                    data-dojo-type="dijit/form/TextBox"
                    title="{{gettext 'FID field(s)'}}"
                    value="ngw_id,id"/ style="width: 100%">

            </div>
        </div>
    </div>
</div>
